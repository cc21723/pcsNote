<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 載入bs5 css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/css/bootstrap.min.css"
        integrity="sha512-fw7f+TcMjTb7bpbLJZlP8g2Y4XcCyFZW8uy8HsRZsH/SwbMw0plKHFHr99DN3l04VsYNwvzicUX/6qurvIxbxw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
    </style>

</head>

<body>

    <div class="container mt-3">
        <h2>Select Menu</h2>
        <p>To style a select menu in Bootstrap 5, add the .form-select class to the select element:</p>

        <label for="sel1" class="form-label">Select list (select one):</label>
        <select id="mySelect" class="form-select" id="sel1" name="sellist1">
            <!-- <option>all</option> -->
        </select>
        <br>
        <label for="sel1" class="form-label">Select list (select one):</label>
        <select id="mySelectDetail" class="form-select" id="sel1" name="sellist1">
            <option>11</option>
            <option>12</option>
            <option>13</option>
            <option>44</option>
            <option>21</option>
            <option>22</option>
            <option>23</option>
            <option>24</option>
            <option>31</option>
            <option>32</option>
            <option>33</option>
            <option>34</option>
            <option>41</option>
            <option>42</option>
            <option>43</option>
            <option>44</option>
        </select>
        <br>

    </div>



    <!-- 載入bs5 js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.bundle.min.js"
        integrity="sha512-Tc0i+vRogmX4NN7tuLbQfBxa8JkfUSAxSFVzmU31nVdHyiHElPPy2cWfFacmCJKw0VqovrzKhdd2TSTMdAxp2g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- 載入jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        $(document).ready(function () {

            // data
            let data = [
                {
                    id: 1,
                    name: '北部地區',
                    content: ['11', '12', '13', '14']
                },
                {
                    id: 2,
                    name: '中部地區',
                    content: ['21', '22', '23', '24']
                },
                {
                    id: 3,
                    name: '南部地區',
                    content: ['31', '32', '33', '34']
                },
                {
                    id: 4,
                    name: '東部地區',
                    content: ['41', '42', '43', '44']
                },
                {
                    id: 5,
                    name: '外島地區',
                    content: ['51', '52', '53', '54']
                },
                {
                    id: 6,
                    name: '全部',
                    content: []
                }

            ]
            // dataDetail 
            // let dataDetail = [
            //     {
            //         'id' : 1,
            //         'name' : '11'
            //     }

            // 1.讀取我data 1 2 3 4 5 6
            // 2.顯示在第一個select

            // 1.bind
            const mySelect = $('#mySelect');
            const mySelectDetail = $('#mySelectDetail');



            // 2.action

            // init select
            let content = ``;
            $.each(data, function (key, value) {
                // console.log('key', key);
                // console.log('value', value);
                let tmpDetails = value.content;
                console.log('tmpDetails', tmpDetails);

                content += `
                <option value='${value.id}'>${value.id} - ${value.name}</option>
                `;

            });
            mySelect.append(content);


            // mySelect change
            mySelect.change(function (e) {
                e.preventDefault();

                // append 一開始要清空
                mySelectDetail.html('');

                // get mySelect value
                let selectValue = $(this).val();
                // id = key + 1
                let tmpKey = selectValue - 1;;
                console.log('selectValue', selectValue);
                console.log('tmpKey', tmpKey);
                let tmpDataContent = data[tmpKey].content;
                console.log('tmpDataContent', tmpDataContent);

                // show data
                let content = ``;
                $.each(tmpDataContent, function (key, value) {
                    content += `
                    <option value='${value}'>${value}</option>
                    `;
                });
                mySelectDetail.append(content);


            });





        });
    </script>
</body>

</html>